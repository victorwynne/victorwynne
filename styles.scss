@import "variables";
@import "base";
@import "type";
@import "syntax";
@import "code";
@import "layout";
@import "masthead";
@import "posts";
@import "pagination";
@import "message";
@import "tweet";
@import "notice";

// Theme Toggle Overrides
html[data-theme="light"] {
  // Body and basic colors
  body {
    color: #3a3a3a;
    background-color: #f7f6f4;
    
    ::selection {
      background: #2eb1c6;
    }
  }

  // Links
  a {
    color: #4846AF;
  }

  // Tables
  table {
    border: 1.5px solid #545454;
  }
  
  td, th {
    border: 1px dashed #545454;
  }
  
  tbody tr:nth-child(odd) td,
  tbody tr:nth-child(odd) th {
    background-color: #f7f6f4;
  }

  // Headings
  h1, h2, h3, h4, h5, h6 {
    color: #545454;
  }
  
  h3 {
    color: #3a3a3a;
  }
  
  h4::before {
    color: #545454;
  }

  // HR and separators
  hr {
    border-top: 0.85px solid #9d9d9d;
    border-bottom: 0.85px solid #9d9d9d;
  }
  
  .year-separator::before {
    color: #9d9d9d;
  }

  // Text elements
  abbr {
    color: #3a3a3a;
  }
  
  span.link-arrow {
    color: #4846AF;
  }

  // Blockquotes
  blockquote {
    background-color: #e6e6e6;
  }

  // Mark/highlight
  mark {
    background: #4846AF;
    color: #ddd;
  }

  // Footnotes
  a[href^="#fn:"] {
    color: #4846AF;
    background: #e6e6e6;
    border: 1.5px solid #9d9d9d;
  }
  
  .footnotes :target {
    border: solid 1.5px #9d9d9d;
  }
  
  .reversefootnote {
    color: #4846AF;
  }

  // Lead text
  .lead {
    color: #3a3a3a;
  }

  // Code highlighting
  .highlight .hll {
    background-color: #31323b;
  }
  
  .highlighter-rouge {
    color: #2a2a2a;
    background-color: #eae9e7;
  }
  
  pre, code {
    background-color: #31323b;
  }
  
  figure.highlight pre,
  div.highlight pre {
    background-color: #31323b;
    border: 1.5px solid #2eb1a1;
  }
  
  figure.highlight pre code,
  div.highlight pre code {
    background-color: #31323b;
  }
  
  figure.highlight pre code[data-lang]::before,
  div.highlight pre code[data-lang]::before {
    border: 1px solid #2eb1a1;
    color: #ffffff;
    background-color: #31323b;
  }

  // Masthead
  .masthead-title {
    color: #3a3a3a;
  }

  // Posts and pages
  .page-title, .post-title, .post-title a {
    color: #3a3a3a;
  }
  
  .post-date {
    color: #545454;
  }
  
  .permalink {
    color: #4846AF;
  }
  
  .source {
    color: #545454;
  }

  // Tags
  .tag-list a:link {
    color: #4846AF;
    background-color: #e6e6e6;
    border: 1.75px solid #9d9d9d;
  }
  
  .tag-list a:visited {
    color: #4846AF;
    background-color: #e6e6e6;
    border: 1.75px solid #9d9d9d;
  }

  // Messages and notices
  .message {
    color: #3a3a3a;
    background-color: #F8F8F8;
    border: .1rem solid #d2d2d2;
  }
  
  .tweet {
    color: #3a3a3a;
    background-color: #f9f9f9;
    border: 0.1rem solid #acabaa;
  }
  
  .notice-guide {
    color: #3a3a3a;
    background-color: #e6e6e6;
    border: 0.1rem solid #9d9d9d;
  }
}

// Force dark theme when data-theme="dark" is set (overrides light system preference)
@media (prefers-color-scheme: light) {
  html[data-theme="dark"] {
    // Body and basic colors (your default dark theme)
    body {
      color: #ddd;
      background-color: #000;
      
      ::selection {
        background: #ff453a;
      }
    }

    // Links
    a {
      color: #f1915d;
    }

    // Tables
    table {
      border: 1.5px solid #969696;
    }
    
    td, th {
      border: 1px dashed #969696;
    }
    
    tbody tr:nth-child(odd) td,
    tbody tr:nth-child(odd) th {
      background-color: #000;
    }

    // Headings
    h1, h2, h3, h4, h5, h6 {
      color: #969696;
    }
    
    h3 {
      color: #ddd;
    }
    
    h4::before {
      color: #969696;
    }

    // HR and separators
    hr {
      border-top: 0.85px solid #555;
      border-bottom: 0.85px solid #555;
    }
    
    .year-separator::before {
      color: #555;
    }

    // Text elements
    abbr {
      color: #ddd;
    }
    
    span.link-arrow {
      color: #f1915d;
    }

    // Blockquotes
    blockquote {
      background-color: #141414;
    }

    // Mark/highlight
    mark {
      background: #f1915d;
      color: #3a3a3a;
    }

    // Footnotes
    a[href^="#fn:"] {
      color: #f1915d;
      background: #141414;
      border: 1.5px solid #555;
    }
    
    .footnotes :target {
      border: solid 1.5px #555;
    }
    
    .reversefootnote {
      color: #f1915d;
    }

    // Lead text
    .lead {
      color: #ddd;
    }

    // Code highlighting
    .highlight .hll {
      background-color: #212228;
    }
    
    .highlighter-rouge {
      color: #ffffff;
      background-color: #434343;
    }
    
    pre, code {
      background-color: #eef;
    }
    
    figure.highlight pre,
    div.highlight pre {
      background-color: #212228;
      border: 1.5px solid #c24a45;
    }
    
    figure.highlight pre code,
    div.highlight pre code {
      background-color: #212228;
    }
    
    figure.highlight pre code[data-lang]::before,
    div.highlight pre code[data-lang]::before {
      border: 1px solid #c24a45;
      color: #ffffff;
      background-color: #212228;
    }

    // Masthead
    .masthead-title {
      color: #ddd;
    }

    // Posts and pages
    .page-title, .post-title, .post-title a {
      color: #ddd;
    }
    
    .post-date {
      color: #969696;
    }
    
    .permalink {
      color: #f1915d;
    }
    
    .source {
      color: #969696;
    }

    // Tags
    .tag-list a:link {
      color: #f1915d;
      background-color: #141414;
      border: 1.75px solid #555;
    }
    
    .tag-list a:visited {
      color: #f1915d;
      background-color: #141414;
      border: 1.75px solid #555;
    }

    // Messages and notices
    .message {
      color: #ddd;
      background-color: #002d2b;
      border: .1rem solid #00c2bb;
    }
    
    .tweet {
      color: #ddd;
      background-color: #242424;
      border: 0.1rem solid #626162;
    }
    
    .notice-guide {
      color: #ddd;
      background-color: #141414;
      border: 0.1rem solid #555;
    }
  }
}